---
title: Git 常用的命令集合（持续更新）
category: Git
date: 2020-03-06 15:22:07
tags: Git
---
## 以下是从入门开始记录的Git指令
# 在全局设置用户名和邮箱地址，标记自己
**直接使用的话，则是直接输出当前的用户名或邮箱地址** <br/>
```
    git config --global user.name 用户名
    git config --global user.email 邮箱地址
```
<!--more-->
# 创建本地仓库
```
    mkdir "仓库名"
```
# 切换目录
```
    cd 路径
```
# （本地）Git仓库初始化：让Git知道，它需要来管理这个目录
```
    git init
```
**执行成功之后会在项目目录下创建“.git”的隐藏目录，这个目录是Git创建的，不能删除，也不能随意更改其中的内容！**

# Git常用指令操作
## 查看当前状态：git status
## 添加到缓存区（暂存文件的地方）：git add 文件名
**说明：git add 命令可以一次添加一个文件，也可以一次添加多个文件，语法如下**
```
    语法一：git add 文件名
    语法二：git add 文件名1 文件名2 文件名3 ...
    语法三：git add .   【指添加当前git所在目录中的所有文件，像是 ./】
```
## 清除缓存区中的某个文件：git rm --cached 文件名
## 提交至版本库（本地Git仓库）：git commit -m "注释内容"
**在后续对文件进行（一个或多个）操作之后，重复使用git add 与 git commit 指令即可。**

# 版本回退
**版本回退 分为两步骤进行操作**
```
    步骤：
        ①查看版本，确定需要回到的时间点
            指令：两种都只是显示日志，哪个习惯用哪个就行
                git log  【显示日志，显示的信息有 黄色的提交编号、操作的文件以及操作该文件的人和被操作的时间点】
                git log --pretty=oneline  【只显示两样都东西commit id（提交编号）以及 操作的注释】
        ②回退操作
            指令：
                git reset --hard 提交编号
        注意：回到过去之后要想再回到之前的版本的时候，则需要使用指令去查看历史操作【因为在回退了以后之前的操作都被覆盖了，所以不能用普通的git log进行查看】，以得到之前的commit id。之后通过得到的commit id 使用 回退指令 操作即可。
            指令 git reflog
```
**ps:在写回退指令的时候 commit id 可以不用写全，git会自动识别，但是也不能写太少，至少要写4位或以上字符。**

# 关于远程仓库的操作
## 线上仓库的两种常规使用方式
### 基于http协议
```
    1、创建一个与目标项目名相同的文件夹，进入到该文件夹
        mkdir 目标项目名
        cd ./目标文件夹
    2、使用clone指令克隆线上仓库到本地
        git clone 线上仓库地址
    3、在仓库上做对应的操作（提交暂存区、提交本地仓库、【提交线上仓库】、【拉取线上仓库】）
        【提交到线上仓库的指令】：git push
        【拉取线上仓库的指令】：git pull
```
 **注意：如果在首次往线上仓库提交内容的时候出现了403的致命错误，原因是：不是任何和人都可以往线上仓库提交内容，必须鉴权。**
   **如出错，需要修改“.git/config”文件内容，在url那一项上改为https:// + 用户名:账号密码@ + github.com + ...**
   
**提醒：**在每天工作的第一件时就是先git pull 拉取线上最新的版本；每天下班前要做的是 git push，将本地代码提交到线上仓库。
### 基于SSH
```
    1、生成SSH公私钥对
        ssh-keygen -t rsa -C "注册的邮箱"   【生成公私钥对时 可以选择为私钥添加密码】
    2、点击github上的new SSH key，上传生成后存在于admin/.ssh/id_rsa.pub的公钥文件的所有信息，在这之前可以自定当前key的标题
    3、clone项目
        git clone ssh版的线上仓库地址
    4、相关操作和之前一样

```

